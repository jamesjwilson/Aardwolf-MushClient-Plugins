<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Thursday, July 11, 2019, 4:52 PM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "TrainAssist" generated by Plugin Wizard -->

<muclient>
<plugin
   name="TrainAssist"
   author="Stormwind"
   id="6df73e7dda532901032082a8"
   language="Lua"
   purpose="To provide a better character training experience"
   save_state="y"
   date_written="2019-07-11 16:50:08"
   requires="5.07"
   version="1.0"
   >
<description trim="y">
<![CDATA[
Build out help file
]]>
</description>

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Triggers  -->

<triggers>
  <trigger
   enabled="y"
   script="setup_stat_vars"
   match="^(\w+)\s+:\s+(\d)\s+([\-\d]+)\s+([\-\d]+)\s+([\-\d]+)\s+(\d+)\s+(\d+)\s+(\d+)$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  </trigger>
  <trigger
   enabled="y"
   script="setup_train_session_var"
   match="^You have (\d+) training sessions available.$"
   regexp="y"
   send_to="10"
   sequence="100"
  >
  </trigger>
</triggers>

<!--  Aliases  -->

<aliases>

</aliases>

<!--  Variables  -->

<variables>

</variables>

<!--  Plugin help  -->

<aliases>
  <alias
   script="OnHelp"
   match="TrainAssist:help"
   enabled="y"
  >
  </alias>
</aliases>

<script>
<![CDATA[
function OnHelp ()
  world.Note (world.GetPluginInfo (world.GetPluginID (), 3))
end
]]>

str_yourCost = 0
str_trainedAmt = 0
str_statMax = 0
str_canTrain = 0

int_yourCost = 0
int_trainedAmt = 0
int_statMax = 0
int_canTrain = 0

wis_yourCost = 0
wis_trainedAmt = 0
wis_statMax = 0
wis_canTrain = 0

dex_yourCost = 0
dex_trainedAmt = 0
dex_statMax = 0
dex_canTrain = 0

con_yourCost = 0
con_trainedAmt = 0
con_statMax = 0
con_canTrain = 0

lck_yourCost = 0
lck_trainedAmt = 0
lck_statMax = 0
lck_canTrain = 0

char_train_sessions = 0

function process_information()
	showmsg("Strength", str_canTrain)
end

function setup_train_session_var(wildcards)
	char_train_sessions = wildcards[1]
	process_information()
end

function setup_stat_vars(wildcards)
   statName = wildcards[1]
   
   if statName == "Strength" then
      str_yourCost = wildcards[6]
	  str_trainedAmt = wildcards[7]
	  str_statMax = wildcards[8]
	  str_canTrain = str_statMax - str_trainedAmt
    elseif statName == "Intelligence" then
      int_yourCost = wildcards[6]
	  int_trainedAmt = wildcards[7]
	  int_statMax = wildcards[8]
	  int_canTrain = int_statMax - int_trainedAmt
	elseif statName == "Intelligence" then
      wis_yourCost = wildcards[6]
	  wis_trainedAmt = wildcards[7]
	  wis_statMax = wildcards[8]
	  wis_canTrain = wis_statMax - wis_trainedAmt
	elseif statName == "Intelligence" then
      dex_yourCost = wildcards[6]
	  dex_trainedAmt = wildcards[7]
	  dex_statMax = wildcards[8]
	  dex_canTrain = dex_statMax - dex_trainedAmt
	elseif statName == "Intelligence" then
      con_yourCost = wildcards[6]
	  con_trainedAmt = wildcards[7]
	  con_statMax = wildcards[8]
	  con_canTrain = con_statMax - con_trainedAmt
	elseif statName == "Intelligence" then
      lck_yourCost = wildcards[6]
	  lck_trainedAmt = wildcards[7]
	  lck_statMax = wildcards[8]
	  lck_canTrain = lck_statMax - lck_trainedAmt
    else
      
    end
   
end

function showmsg(stat, amountCanTrain)
   ColourNote("SteelBlue", "", "[", "MediumSeaGreen", "", stat, "SteelBlue", "", "] can be trained " .. amountCanTrain .. " times" )
end
</script> 

</muclient>
